{% extends 'layout/basic.html' %}
{% load static %}
{% load bootstrap4 %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{% static 'main/profiles.css' %}" type="text/css">
    <title>Profile</title>
</head>
<body>
{% block content %}
    <div class="container-fluid" id="row1">
        <div class="row">
            <div class="col-md-4">
                {% if request.user.model_pic %}
                                <img src="{{ MEDIA_URL }}{{ request.user.model_pic.url }}" alt="profile" style="width:300px;height:300px;border:9px solid lightslategrey;">
                {% endif %}
            </div>
            <div class="col-md-8">
                <h1 style="font-style: oblique;font-weight: 500;font-variant: small-caps;">{{ request.user.username }}</h1>
                <a class="btn btn-dark"><h2 style="color:white;width:400px;">First name : {{ request.user.first_name }}</h2></a>
                <a class="btn btn-dark"><h2 style="color:white;width:400px;">Last name : {{ request.user.last_name }}</h2></a><br><br>
                <a class="btn btn-dark"><h2 style="color:white;width:400px;">Date of birth : {{ request.user.date_of_birth }}</h2></a>

            </div>
        </div>
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-6">
                    <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">About me</h3>
                        <p class="card-text">{{ request.user.about }}</p>
                    </div>
                </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">Hobbies</h3>
                        <p class="card-text">{{ request.user.Hobbys }}</p>
                    </div>

            </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
{% block foot %}
    <div class="container-fluid" id="row2">
        <input type="button" class="btn btn-dark btn-lg btn-block" value="Add photo" id="hidden_button" onclick="HiddenFunction();">
        <form method="post" enctype="multipart/form-data" id="form">
            {% csrf_token %}
            {% bootstrap_form form %}
            <input type="hidden"  id="hidden_input" class="btn btn-dark btn-lg btn-block" value="Save">
        </form>
    {% if photos %}
        <div id="carouselExampleFade" class="carousel slide carousel-fade" data-ride="carousel">
  <div class="carousel-inner">
      {% for image in photos %}
            {% if image == photos.first %}
            <div class="carousel-item active">
                <img src="{{ MEDIA_URL }}{{ image.photo.url }}" class="d-block w-100" alt="...">
            </div>
            {% else %}
            <div class="carousel-item">
                <img src="{{ MEDIA_URL }}{{ image.photo.url }}" class="d-block w-100" alt="...">
            </div>
          {% endif %}
      {% endfor %}
  </div>
  <a class="carousel-control-prev" href="#carouselExampleFade" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleFade" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
    {% else %}
        <div class="container">
            <div class="row">
                <div class="col-md-4">

                </div>
                <div class="col-md-4">
                    <h1 class="text-muted">
                        No posts yet.
                    </h1>
                    <p class="text-muted">Click 'Add a photo' to create new post.</p>
                </div>
                <div class="col-md4">

                </div>
            </div>
        </div>
    {% endif %}
    </div>
    <script>
    function HiddenFunction(){
        document.getElementById('id_photos').click();
        document.getElementById('hidden_input').type='submit';
    }
        document.getElementById('id_photos').style.display='none';

    </script>
{% endblock foot %}
</body>
</html>